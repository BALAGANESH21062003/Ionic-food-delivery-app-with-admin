{"version":3,"sources":["../../src/pages/tracker/tracker.module.ts","../../src/pages/tracker/tracker.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TrackerPage } from './tracker';\n\n@NgModule({\n  declarations: [\n    TrackerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TrackerPage),\n  ],\n})\nexport class TrackerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tracker/tracker.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { NativeMapContainerProvider } from '../../providers/native-map-container/native-map-container';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { ActivityProvider } from '../../providers/activity/activity';\nimport { PopUpProvider } from '../../providers/pop-up/pop-up';\nimport { ThrowStmt } from '@angular/compiler/src/output/output_ast';\nimport { DirectionserviceProvider } from '../../providers/directionservice/directionservice';\nimport { DirectorProvider } from '../../providers/director/director';\ndeclare var google;\n/**\n * Generated class for the TrackerPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-tracker',\n  templateUrl: 'tracker.html',\n})\nexport class TrackerPage {\n  map: any;\n  duration: any;\n\n  constructor(public navCtrl: NavController, public director: DirectorProvider, public pop: PopUpProvider, public cMap: NativeMapContainerProvider, public ph: ProfileProvider, public act: ActivityProvider, public navParams: NavParams) {\n  }\n\n  ionViewDidEnter() {\n    this.map = new google.maps.Map(document.getElementById('map'), {\n      center: {lat: -34.397, lng: 150.644},\n      zoom: 8,\n    }); \n\n  console.log('initiated')\n     this.pop.presentLoader('Waiting For Order To be Assigned.....')\n  let h = true;\n    \n     this.act.getActivityProfile(this.ph.id).on('value', snap => {\n       console.log(snap.val())\n       if (snap.val()){\n       if (snap.val().Driver_locationName ){\n        this.GetRoute(snap.val().Client_Location, snap.val().Driver_locationName);\n       }else{\n        \n       }\n      }else{\n        this.navCtrl.popToRoot().then(()=>{\n          this.ph.getUserProfile().child('Basket').remove();\n          this.ph.getUserProfile().child('Drink').remove();\n          this.director.total = 0;\n         // this.pop.showPimp('Thank You For Choosing This App.')\n          if (this.pop.dismissLoader != null)\n          this.pop.hideLoader();\n        })\n      }\n     })\n\n     this.act.getActivityProfile(this.ph.id).child(\"Delivered\").on('value', snap => {\n      console.log(snap.val())\n      if (snap.val())\n        this.act.getActivityProfile(this.ph.id).remove().then(()=>{\n          this.navCtrl.popToRoot().then(()=>{\n            this.ph.getUserProfile().child('Basket').remove();\n            this.ph.getUserProfile().child('Drink').remove();\n            this.director.total = 0;\n            this.pop.showPimp('Thank You For Choosing This App.')\n            if (this.pop.dismissLoader != null)\n            this.pop.hideLoader();\n          })\n        })\n      \n    })\n     \n    \n    this.act.getActivityProfile(this.ph.id).child(\"Driver_locationName\").on('value', snap => {\n      console.log(snap.val())\n      if (snap.val() != null){\n      if (this.pop.dismissLoader != null)\n        this.pop.hideLoader()\n      }\n    })\n  }\n\n\n\n\nGetRoute(location, destination) {\n \n  var source, destination;\n  var directionsService = new google.maps.DirectionsService();\n  let directionsDisplay = new google.maps.DirectionsRenderer({ 'draggable': true });\n  \n  directionsDisplay.setMap(this.map);\n  directionsDisplay.setPanel(document.getElementById('dvPanel'));\n\n  //*********DIRECTIONS AND ROUTE**********************//\n  source = location;\n  destination = destination;\n\n  var request = {\n      origin: source,\n      destination: destination,\n      travelMode: google.maps.TravelMode.DRIVING\n  };\n  directionsService.route(request,  (response, status) => {\n      if (status == google.maps.DirectionsStatus.OK) {\n          directionsDisplay.setDirections(response);\n      }\n  });\n\n  //*********DISTANCE AND DURATION**********************//\n  var service = new google.maps.DistanceMatrixService();\n  service.getDistanceMatrix({\n      origins: [source],\n      destinations: [destination],\n      travelMode: google.maps.TravelMode.DRIVING,\n      unitSystem: google.maps.UnitSystem.METRIC,\n      avoidHighways: false,\n      avoidTolls: false\n  },  (response, status) => {\n      if (status == google.maps.DistanceMatrixStatus.OK && response.rows[0].elements[0].status != \"ZERO_RESULTS\") {\n          //var distance = response.rows[0].elements[0].distance.text;\n          this.duration = response.rows[0].elements[0].duration.text;\n         \n      } else {\n          alert(\"Unable to find the distance via road.\");\n      }\n  });\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tracker/tracker.ts"],"sourceRoot":""}